<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Weather App</title>
    <link rel="stylesheet" href="css/style.css" type="text/css" media="all">
    <link rel="stylesheet" href="css/weather-icons.min.css" type="text/css" media="all">
    <link rel="stylesheet" href="css/weather-icons-wind.min.css" type="text/css" media="all">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.7/angular.min.js"></script>
    <link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/angular_material/1.1.1/angular-material.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  </head>

  <body ng-app="weatherApp" ng-controller="mainController">

    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.7/angular-animate.min.js"></script>
	  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.7/angular-aria.min.js"></script>
	  <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.7/angular-messages.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angular_material/1.1.1/angular-material.min.js"></script>

    <script src="app.js"></script>
    <script src="controllers/mainController.js"></script>
    <script src="directives/validLocation.js"></script>
    <script src="services/utils.js"></script>
    <script src="services/processData.js"></script>
    <script src="services/iconData.js"></script>

    <div class="container" layout="column" layout-align="center center">

      <div class="bar" layout="row" layout-align="space-between">
        <div class="search" flex="80">
          <form name="info">
            <md-content class="md-no-momentum">
              <md-input-container md-no-float class="md-block">
                <md-icon><i class="material-icons">search</i></md-icon>
                <input name="location" ng-model="query" type="text"
                placeholder="Search for a location" maxlength="65" minlength="2" valid-location
                ng-pattern="/^([a-zA-Z\u0080-\u024F]+(?:. |-| |'))*[a-zA-Z\u0080-\u024F]*$/"
                ng-keyup="$event.keyCode == 13 && info.$valid ? getLocation() : null">
                <md-icon><i class="material-icons bar-button" ng-click="info.$valid ? getLocation() : null">keyboard_return</i></md-icon>
                <div ng-messages="info.location.$error">
                  <div ng-message-exp="['maxlength', 'minlength', 'pattern']">Invalid location name</div>
                  <div ng-message="validLocation">Location must have [city / town / etc], [country]</div>
                </div>
              </md-input-container>

            </md-content>
          </form>
        </div>

        <div class="locate" flex="20"><i class="material-icons bar-button" ng-click="getLocationCoordinates()">my_location</i></div>
      </div>

      <div class="window">
          <md-content class="md-padding">
            <md-nav-bar md-selected-nav-item="page" nav-bar-aria-label="navigation links">
              <md-nav-item md-nav-click="goto('currentWeather')" name="currentWeather">Current Weather</md-nav-item>
              <md-nav-item md-nav-click="goto('fiveDayForecast')" name="fiveDayForecast">Forecast</md-nav-item>
            </md-nav-bar>
            <div class="weather-content">
              <md-card>
                <md-card-content class="highlight" layout="row">
                    <div class="highlight-text" flex="70">
                        <h2>{{data.city}}</h2>
                        <h4>{{data.weatherDescription}}</h3>
                        <h5>Today | {{data.time.day}}</h3>
                    </div>

                    <div class="highlight-icon" flex="30">
                        <ul>
                            <li><i ng-class="data.weatherIcon"></i></li>
                            <li>{{data.temperature.val}} &deg;{{data.temperature.unit}}</li>
                        </ul>
                    </div>
                </md-card-content>

                <md-card-content class="main-features">
                    <div layout="row" layout-align="space-around">
                        <ul layout="column" layout-align="space-between">
                            <li><i ng-class="data.mainFeaturesIcon.thermometer"></i></li>
                            <li>
                                {{data.temperature.val}} &deg;{{data.temperature.unit}} | {{data.temperature.val}} &deg;{{data.temperature.unit}}
                            </li>
                        </ul>
                        <ul layout="column" layout-align="space-between">
                            <li><i ng-class="data.mainFeaturesIcon.rain"></i></li>
                            <li>10&#37;</li>
                        </ul>
                        <ul layout="column" layout-align="space-between">
                            <li><i ng-class="data.mainFeaturesIcon.wind"></i></li>
                            <li>
                                {{data.windSpeed.val}} {{data.windSpeed.unit}} | {{data.windDirection}}
                            </li>
                        </ul>
                    </div>
                </md-card-content>

                <div class="other-features" layout="column" layout-align="center center">
                    <ul layout="row">
                        <li class="other-features-left" flex="50" layout-align="end">
                            <ul layout="row" layout-align="space-between">
                                <li><i ng-class="data.otherFeaturesIcon.sunrise"></i></li>
                                <li>Sunrise</li>
                            </ul>
                        </li>
                        <li class="other-features-right" flex="50">{{data.sunrise.hours}}:{{data.sunrise.minutes}}</li>
                    </ul>
                    <ul layout="row">
                        <li class="other-features-left" flex="50" layout-align="end">
                            <ul layout="row" layout-align="space-between">
                                <li><i ng-class="data.otherFeaturesIcon.sunset"></i></li>
                                <li>Sunset</li>
                            </ul>
                        </li>
                        <li class="other-features-right" flex="50">{{data.sunset.hours}}:{{data.sunset.minutes}}</li>
                    </ul>
                    <ul layout="row">
                        <li class="other-features-left" flex="50" layout-align="end">
                            <ul layout="row" layout-align="space-between">
                                <li><i ng-class="data.otherFeaturesIcon.humidity"></i></li>
                                <li>Humidity</li>
                            </ul>
                        </li>
                        <li class="other-features-right" flex="50">{{data.humidity.val}} {{data.humidity.unit}}</li>
                    </ul>
                    <ul layout="row">
                        <li class="other-features-left" flex="50" layout-align="end">
                            <ul layout="row" layout-align="space-between">
                                <li><i ng-class="data.otherFeaturesIcon.pressure"></i></li>
                                <li>Pressure</li>
                            </ul>
                        </li>
                        <li class="other-features-right" flex="50">{{data.pressure.val}} {{data.pressure.unit}}</li>
                    </ul>
                </div>

                <md-card-actions layout="row" layout-align="end center">
                  <md-button>Action 1</md-button>
                  <md-button>Action 2</md-button>
                </md-card-actions>
              </md-card>
            </div>
          </md-content>
      </div>

    </div>

  </body>
</html>
